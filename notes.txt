=====================================================================
В top панели "магазин ромео" - ссылка "/" ведет на сайт,
а в массиве в меню в пункте "на сайт" ссылка тоже "/" но ведет на /admin
Странно

=====================================================================

Передать переменные из PHP в JS можно в файле AppAsset.php
через функцию init()

public function init()
    {
        parent::init();

        /*
         * Берем данные из PHP
         * и присваиваем эти данные переменным JS
         * ======================================
         * передаем данные из PHP в JS
         * ---------------------------
         * Строка скрипта подключается полсе всех JS подключений
         * и эти переменные можно получить только внутри $(function){}
         */
        Yii::$app->view->registerJs(
            "var zero = " . Json::encode(Yii::getAlias('@zero')) . ";",
            \yii\web\View::POS_HEAD
        );
    }

НО!
Строка скрипта подключается полсе всех JS подключений
и эти переменные можно получить только внутри $(function){}
Надо потом по думать, как передать эти переменные в простой код JS
чтобы переменные задавались до подключения JS файлов


=====================================================================

Вопрос по "Поступление товара"

Перед добавлением всех товаров в БД
надо изучить добавление данных в связанные таблицы

При выборе бренда - загрузка списка артикулов должна сопровождаться
анимацией загрузки,
щас там её нет, надо сделать

=====================================================================
продумать связи
переделать


=====================================================================

Подсказка по полю "ручная скидка"

При заполнении поля "ручная скидка" я сделал ограничение
подсказака всплывает только когда длинна строки 1 символ

а вот со штрихкодом интереснее:

Вопрос по всплыванию подсказки при вводе штрихкода, по полю "ручная скидка":
подсказака выскакивает все вермя когда поле "ручная скидка" заполнено и "количество" больше 1

Нужно ли сделать ограничение на количество раз всплываний этой подсказки.
И если нужно - то по каким условиям?

=====================================================================

ТОВАРНЫЙ ЧЕК

Надо разобраться, почему debug панель Yii2 многократно вставляет свой код
в разметку страницы.
Надо найти причину. 
Нужно создать тестовую страницу,
скопировать туда всё из файла страницы "Товарный чек"
и эксперементировать.

Просто включи панель, и она появится в HTML
но почему то многократно




Почему то в таблице "discount_cards" нет поля amount_purchases_current_year
надо спросить почему
Оно вроде там было. Потому что в JS у меня оно есть, но закоментировано.


---------------------------------------
И если нужно - то по каким условиям?


---------------------------------------

ТОВАРНЫЙ ЧЕК

В functions.js функция recalculationS1BySPK()
там в конце, функцию forS1(), запускаю два раза подряд.
При первом пересчете не правильно считает
скидку по подарочным сертификатам каждой строки section 1
Если надо будет потом, то разберемся. Если же нет, то оставим так.

---------------------------------------

РАБОТНИКИ

При редактировании пользователя
поле пароль не заполняется, потому что при попытке переписать поле password
выдает ошибку: Getting write-only property = Получение права на запись
Надо будет потом разобраться с этим.
Пока что при редактировании, поле пароль не активно.

---------------------------------------

Выгрузка этикетки:


---------------------------------------

Номенклатура товара:

В модальном окне, не выводятся изображения.
Пишет что заголовки уже отправлены

AjaxController строка 375

В классе UploadHandler
Строка 1340 $this->body($json); в методе body происходит простое echo $str.
Нужно по думать, как вывести массив изображений в модалку.
Надо разобраться, как работает шаблонизатор JS
Если через него вывести не получится, тогда просто использую свой PHP шаблонизатор.
Переберу элементы массива изображений, с подгрузкой шаблона из shortcodes.

Нужно переписать пути сохранения файлов
из того что есть в jQueryFileUpload на свой, в директорию common
по инструкции Романа

================================================================

НОМЕНКЛАТУРА ТОВАРА

После создания новой номенклатуры
Список артикулов нужно обновить!!!

И продумать, в какое время загружать изображения
Если номенклатура пока что заполняетс и не создана,
то нужно предотвратить загрузку новых изображений,
а как только номенклатура будет создана, 
то разрешить загрузку изображений

================================================================

Страница ЗАКАЗЫ

Кнопка "сохранить"

При сохранении нового
если checkbox отмечен
перезагружаем выпадающие списки
и текущий заказ перезагрузится в список "готовые"
и он должен установиться выбранным


Если выбрана кнопка радио
перезагружаем выпадающие списки
сбрасываем страницу






если новый
если checkbox отмечен - ready_time
если не отмечен - то в бд только коммент

если готов

завершен - complited
отменен - cancel

==============================================================

SEO

Нашел PHP генератор карты сайта
Надо разобраться как он работает
и встроить его в Yii
Ну и собственно запустить.

Инструкция по адресу:
https://htmlweb.ru/php/example/sitemap_generator.php


































